<p><span itemscope itemtype="http://schema.org/Photograph"><img src="../../images/20240625181304.jpg" width="1200" height="666" loading="lazy" title="" class="hatena-fotolife" itemprop="image"></span></p>

<p>先日、以下の記事を書いて以来、というかPlasticityのおかげでいつの間にか<a class="keyword" href="https://d.hatena.ne.jp/keyword/Blender">Blender</a>の操作に慣れており、最近はすっかり<a class="keyword" href="https://d.hatena.ne.jp/keyword/Blender">Blender</a>ばかり使っています。</p>

<p><iframe src="https://hatenablog-parts.com/embed?url=https%3A%2F%2Ffunatsufumiya.hatenablog.com%2Fentry%2F2024%2F06%2F17%2F155129" title="Plasticityのような使い勝手をBlenderでも再現してみる 〜点と線に主眼をおきつつ、トポロジーを柔軟に扱う〜 - しさくろく" class="embed-card embed-blogcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 190px; max-width: 500px; margin: 10px 0px;" loading="lazy"></iframe><cite class="hatena-citation"><a href="https://funatsufumiya.hatenablog.com/entry/2024/06/17/155129">funatsufumiya.hatenablog.com</a></cite></p>

<p><a href="https://funatsufumiya.hatenablog.com/archive/category/CAD%E2%86%92%E3%82%B9%E3%82%AB%E3%83%AB%E3%83%97%E3%83%88%EF%BC%88%E9%80%A3%E8%BC%89%E8%A8%98%E4%BA%8B%EF%BC%89">CAD→スカルプトについての連載記事</a>でも言及したのですが、Subdiv（サブディビジョン・<a class="keyword" href="https://d.hatena.ne.jp/keyword/%A5%B5%A1%BC%A5%D5%A5%A7%A5%B9">サーフェス</a>）にはいくつか課題があり、改めて<a class="keyword" href="https://d.hatena.ne.jp/keyword/Blender">Blender</a>を使っていく上で、解決したいなと感じていたところ、偶然にもGeometry Nodeを使った新たな解法を提供してくれるアドオンを見つけたので、ご紹介します。</p>

<h2 id="RM_SubdivisionSurface-メッシュの痩せ細りを調整できる">RM_SubdivisionSurface: メッシュの痩せ細りを調整できる</h2>

<p><iframe src="https://hatenablog-parts.com/embed?url=https%3A%2F%2F3dnchu.com%2Farchives%2Frm_subdivisionsurface%2F" title="RM_SubdivisionSurface - メッシュの痩せ太りとスムーズ適用具合を調整出来るGoemetry NodesベースのサブディビジョンサーフェスBlenderモディファイア！Github上で無料公開！" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;" loading="lazy"></iframe><cite class="hatena-citation"><a href="https://3dnchu.com/archives/rm_subdivisionsurface/">3dnchu.com</a></cite></p>

<p>こちらは、Subdivの最大の課題である、メッシュの痩せ細りを制御できるアドオンです。しかもそればかりか、Subdivをどれくらい適用するかや、クリースをどれくらい適用するかなど、様々なパラメータを柔軟にコン<a class="keyword" href="https://d.hatena.ne.jp/keyword/%A5%C8%A5%ED%A1%BC%A5%EB">トロール</a>することができます。</p>

<p>以下は、まず通常のSubdivを適用した場合です。基準になるメッシュに対して、だいぶ体積が小さく、痩せ細っていることがわかります。</p>

<p><figure class="figure-image figure-image-fotolife" title="従来のSubdiv"><span itemscope itemtype="http://schema.org/Photograph"><img src="../../images/20240625181506.png" width="1200" height="654" loading="lazy" title="" class="hatena-fotolife" itemprop="image"></span><figcaption>従来のSubdiv</figcaption></figure></p>

<p>一方で以下は、RM_Subdivによって、体積や適用具合を制御したものです。体積が維持され、制御点に近くなっていることがわかります。もちろんですが度合いは制御することができ、通常のSubdivよりもさらに体積を小さくすることもできます。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="../../images/20240625183621.png" width="1200" height="654" loading="lazy" title="" class="hatena-fotolife" itemprop="image"></span></p>

<p>これで、例えば図面通りに点を打ったにもかかわらず、Subdivによって体積が縮まって、少し内側になってしまう問題を解決することができます。すごいですね。</p>

<h2 id="Offset-Cut-メッシュの境目を超えたベベルを実現する">Offset Cut: メッシュの境目を超えたベベルを実現する</h2>

<p><iframe src="https://hatenablog-parts.com/embed?url=https%3A%2F%2Fcgbox.jp%2F2024%2F06%2F19%2Fnews-addon-offset-cut%2F" title="【アドオン紹介】Offset Cut – 複雑部分に新たなエッジを生成！ | CGbox" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;" loading="lazy"></iframe><cite class="hatena-citation"><a href="https://cgbox.jp/2024/06/19/news-addon-offset-cut/">cgbox.jp</a></cite></p>

<p>こちらは、CADでは普通に行うことができる、柔軟なベベルが、メッシュの境目によって制限されてしまうという、Subdivのよくある問題を解決するためのものです。</p>

<p>元々は、<a href="https://modelinghappy.com/archives/44003">Mesh Machineというアドオンの機能の一つであるOffset Cut</a>を、Geometry Nodeで実装し直したもので、<a class="keyword" href="https://d.hatena.ne.jp/keyword/%A5%A2%A5%EB%A5%B4%A5%EA%A5%BA%A5%E0">アルゴリズム</a>もより洗練されています。</p>

<p>例えば以下は、通常のベベルを実行したものですが、メッシュが密になっていると、破綻し、ごく狭い<a class="keyword" href="https://d.hatena.ne.jp/keyword/%B6%E8%B4%D6">区間</a>でしかベベルできません。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="../../images/20240625182525.png" width="1200" height="757" loading="lazy" title="" class="hatena-fotolife" itemprop="image"></span></p>

<p>一方で以下は、Offset Cutによって先に指定した辺の周りのメッシュをカットしておいて、ベベルをかけたものです。まるで<a class="keyword" href="https://d.hatena.ne.jp/keyword/%A5%E1%A5%BF%A5%DC%A1%BC%A5%EB">メタボール</a>のように、大きく、滑らかなベベルが実現できています。</p>

<p><span itemscope itemtype="http://schema.org/Photograph"><img src="../../images/20240625182616.png" width="1200" height="961" loading="lazy" title="" class="hatena-fotolife" itemprop="image"></span></p>

<p>ちなみに、Kushiroさんの<a href="https://kushiro.gumroad.com/l/hardbevel">Hard Bevel</a>と<a href="https://kushiro.gumroad.com/l/soft_bevel">Soft Bevel</a>も、ベベルの破綻を避けるためのアドオンです。こちらもうまく活用すると、より柔軟にベベルをつけることができるでしょう。</p>

<p><iframe src="https://hatenablog-parts.com/embed?url=https%3A%2F%2Fkushiro.gumroad.com%2Fl%2Fhardbevel" title="Hard Bevel (blender addon)" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;" loading="lazy"></iframe><cite class="hatena-citation"><a href="https://kushiro.gumroad.com/l/hardbevel">kushiro.gumroad.com</a></cite></p>

<p>これらのアドオンを活用すれば、もしかするとCADでは計算不可能なベベルでも、ポリゴン<a class="keyword" href="https://d.hatena.ne.jp/keyword/%A5%E2%A5%C7%A5%EA%A5%F3%A5%B0">モデリング</a>のほうがかえって思い通りのベベルをつけることができるようになるかもしれません。</p>

<h2 id="まとめ-Geometry-Nodeの進化がすごい">まとめ: Geometry Nodeの進化がすごい</h2>

<p>さて今回は、Subdivの問題点を解決してくれる2つのアドオンをご紹介しました。奇しくも、両者ともGeometry Nodeを使ったもので、従来の<a class="keyword" href="https://d.hatena.ne.jp/keyword/Blender">Blender</a>アドオンのような<a class="keyword" href="https://d.hatena.ne.jp/keyword/Python">Python</a>コードを配布するものではなくて、Geometry Nodeを含んだ<a class="keyword" href="https://d.hatena.ne.jp/keyword/Blender">Blender</a>ファイルを配布し、ユーザライブラリに追加して利用するという、比較的新しい形態のアドオンです。</p>

<p>Geometry Nodeにはこんな可能性があるのだと思わせてくれますし、<a class="keyword" href="https://d.hatena.ne.jp/keyword/Python">Python</a>とは違ってビジュア<a class="keyword" href="https://d.hatena.ne.jp/keyword/%A5%EB%A5%CE%A1%BC">ルノー</a>ドグラフで構築できるというのも魅力的です。</p>

<p><figure class="figure-image figure-image-fotolife" title="Offset CutのGeometry Node"><span itemscope itemtype="http://schema.org/Photograph"><img src="../../images/20240625183247.png" width="1200" height="303" loading="lazy" title="" class="hatena-fotolife" itemprop="image"></span><figcaption>Offset CutのGeometry Node</figcaption></figure></p>

<p>こうして<a class="keyword" href="https://d.hatena.ne.jp/keyword/%A5%A2%A5%EB%A5%B4%A5%EA%A5%BA%A5%E0">アルゴリズム</a>自体を改良して、新たなモディファイアやツールが誕生するというのは、本当に素晴らしいことだと思います。<a class="keyword" href="https://d.hatena.ne.jp/keyword/Blender">Blender</a>の進化がどんどん進んでいくと、思いも寄らないような可能性が拓けるかもしれませんね。</p>
