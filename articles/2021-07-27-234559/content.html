<p>時々あるのだけど、自分のなかで<a class="keyword" href="http://d.hatena.ne.jp/keyword/%B4%D8%BF%F4%B7%BF%B8%C0%B8%EC">関数型言語</a>熱が再燃中。昔<a class="keyword" href="http://d.hatena.ne.jp/keyword/Scala">Scala</a>や<a class="keyword" href="http://d.hatena.ne.jp/keyword/OCaml">OCaml</a>でプログラムしていた時期を思い出して、ふと<a class="keyword" href="http://d.hatena.ne.jp/keyword/Clojure">Clojure</a>を書きたくなった。ただ、あまり<a class="keyword" href="http://d.hatena.ne.jp/keyword/JVM">JVM</a>は使いたくない。<a class="keyword" href="http://d.hatena.ne.jp/keyword/JVM">JVM</a>を使わないで<a class="keyword" href="http://d.hatena.ne.jp/keyword/Clojure">Clojure</a>を使う方法はないかと模索していたら、便利なツールを２つ発見。</p>
<p><iframe src="https://hatenablog-parts.com/embed?url=https%3A%2F%2Fgithub.com%2Fbabashka%2Fbabashka" title="GitHub - babashka/babashka: Native, fast starting Clojure interpreter for scripting" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"></iframe><cite class="hatena-citation"><a href="https://github.com/babashka/babashka">github.com</a></cite></p>
<p><iframe src="https://hatenablog-parts.com/embed?url=https%3A%2F%2Fgithub.com%2Fanmonteiro%2Flumo" title="GitHub - anmonteiro/lumo: Fast, cross-platform, standalone ClojureScript environment" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"></iframe><cite class="hatena-citation"><a href="https://github.com/anmonteiro/lumo">github.com</a></cite></p>
<p>この２つは、それぞれ<a class="keyword" href="http://d.hatena.ne.jp/keyword/Clojure">Clojure</a>、ClojureScriptを<a class="keyword" href="http://d.hatena.ne.jp/keyword/JVM">JVM</a>なしでも開発できるようにしたツールで、babashkaはGraalVM、lumoは<a class="keyword" href="http://d.hatena.ne.jp/keyword/Google">Google</a> Closure Compilerの恩恵によってネイティブ化を実現しているらしい。</p>
<p>両者ともに<a class="keyword" href="http://d.hatena.ne.jp/keyword/JVM">JVM</a>いらずで<a class="keyword" href="http://d.hatena.ne.jp/keyword/Clojure">Clojure</a>が使えるのでとても便利で、例えばbabashkaはその名の通り<a class="keyword" href="http://d.hatena.ne.jp/keyword/bash">bash</a>のように<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%B9%A5%AF%A5%EA%A5%D7%A5%C8">スクリプト</a>を書く際に使える。<a class="keyword" href="http://d.hatena.ne.jp/keyword/JVM">JVM</a>の全てのライブラリが使えるわけではないものの、コアな機能はそのまま<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%AF%A5%ED%A5%B9%A5%D7%A5%E9%A5%C3%A5%C8%A5%D5%A5%A9%A1%BC%A5%E0">クロスプラットフォーム</a>に使えるというところが、GraalVMのすごさを感じる。起動時間も早いのも好感が持てる。lumoも同様で、こちらはClojureScript開発にそのまま使える。</p>
<p>両者とも、Win/<a class="keyword" href="http://d.hatena.ne.jp/keyword/Mac">Mac</a>/<a class="keyword" href="http://d.hatena.ne.jp/keyword/Linux">Linux</a>用のバイナリが配布されているので、一般的なPCではそのまますぐ使える。ただ、どちらもARM版については提供されておらず、特にARM32ではビルドするのが困難な様子。Issueを見るにできる可能性はあるものの、まだ<a class="keyword" href="http://d.hatena.ne.jp/keyword/Android">Android</a>や<a class="keyword" href="http://d.hatena.ne.jp/keyword/Raspberry%20Pi">Raspberry Pi</a>ですぐ使うことはできなさそう。</p>
<p>ところで、ここからは蛇足だけれど、最近は<a class="keyword" href="http://d.hatena.ne.jp/keyword/Clojure">Clojure</a>-likeな言語も増えてきているようで、英語だけど便利なまとめ記事もあったりする。</p>
<p><iframe src="https://hatenablog-parts.com/embed?url=https%3A%2F%2Fgithub.com%2Fchr15m%2Fawesome-clojure-likes" title="GitHub - chr15m/awesome-clojure-likes: Curated list of Clojure-like programming languages." class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"></iframe><cite class="hatena-citation"><a href="https://github.com/chr15m/awesome-clojure-likes">github.com</a></cite></p>
<p><iframe src="https://hatenablog-parts.com/embed?url=https%3A%2F%2Fgithub.com%2Fdundalek%2Fawesome-lisp-languages" title="GitHub - dundalek/awesome-lisp-languages: A list of Lisp-flavored programming languages" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"></iframe><cite class="hatena-citation"><a href="https://github.com/dundalek/awesome-lisp-languages">github.com</a></cite></p>
<p>個人的にはCarpが早く正式版になってくれないかなと期待していて、<a class="keyword" href="http://d.hatena.ne.jp/keyword/GC">GC</a>なしでする<a class="keyword" href="http://d.hatena.ne.jp/keyword/Lisp">Lisp</a>としてとても興味深い。簡単に<a class="keyword" href="http://d.hatena.ne.jp/keyword/C/C%2B%2B">C/C++</a>連携できるし、<a class="keyword" href="http://d.hatena.ne.jp/keyword/Clojure">Clojure</a>風の記法で、個人的にはとても読みやすい。</p>
<p><iframe src="https://hatenablog-parts.com/embed?url=https%3A%2F%2Fgithub.com%2Fcarp-lang%2FCarp" title="GitHub - carp-lang/Carp: A statically typed lisp, without a GC, for real-time applications." class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"></iframe><cite class="hatena-citation"><a href="https://github.com/carp-lang/Carp">github.com</a></cite></p>
<p>SwiftやNimのようにARCといった負荷の少ない<a class="keyword" href="http://d.hatena.ne.jp/keyword/GC">GC</a>で動かせる言語も出てきているけれど、Rustが登場して以来、<a class="keyword" href="http://d.hatena.ne.jp/keyword/GC">GC</a>なしでメモリを自己管理しつつ安全に開発できる言語が、今後選択肢が増えていくのかなとちょっと期待。<a class="keyword" href="http://d.hatena.ne.jp/keyword/Scala">Scala</a>に対してのKotlinのように、Rustの簡単版な言語があればいいのになぁと思ったり。</p>
